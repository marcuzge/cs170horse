class horseGraph:
	def __init__(self,filename):
		lines = [line.rstrip('\n') for line in open(filename)]
		n = int(lines[0].strip())
		self.neigh={}
		self.values={}
		lines=lines[1:]
		self.paths={}
		self.lpc={}
		self.sums={}
		for i in range(len(lines)):
			row = lines[i].split(" ")
			temp = []
			for j in range(len(row)):
				if j ==i:
					self.values[j]= int(row[j])
				elif row[j]=="1":
					temp.append(j)
			self.neigh[i]=temp
	def grade(self,paths):
		sumt =0 
		temp = []
		word = paths.split()
		for s in word:
			if s == " ":
				continue
			elif s == ";":
				sumt+=sum(temp)*len(temp)
				# print(temp)
				temp=[]
			elif s == ".":
				sumt+=sum(temp)*len(temp)	
				return sumt
			else:
				temp.append(self.values[int(s)])
		sumt+=sum(temp)*len(temp)
		return sumt
filename = "cs170_final_inputs/2.in"
hr = horseGraph(filename)
# print(hr.values)
path = "343 335 74 268 39 235 218 134 420 170 226 327 243 117 336 456 355 322 78 231 191 280 477 386 269 90 488 217 270 80 381 368 139 106 334 258 147 383 388 266 67 123 262 13 294 428 286 358 169 4 433 212 377 311 271 492 315 119 125 307 346 150 29 17 458 229 337 277 474 143 132 146 391 140 462 37 94 69 14 195 58 483 289 455 340 261 349 208 26 214 174 15 298 225 149 233 105 404 126 24 97 338 246 107 331 473 175 238 51 284 213 329 402 138 196 1 449 423 16 426 242 439 199 494 85 239 224 164 162 151 453 177 282 122 183 292 354 23 156 395 345 308 442 278 86 135 436 99 385 228 171 371 479 287 438 120 154 141 115 100 326 70 416 216 54 57 215 63 129 407 73 96 31 364 157 9 44 318 110 370 325 176 380 249 257 10 230 124 182 186 32 382 396 330 300 188 7 440 306 422 19 403 45 357 59 127 62 46 236 254 347 227 444 384 111 101 310 414 259 49 256 374 102 53 8 399 253 81 276 316 221 205 84 470 480 223 273 454 485 264 112 3 60 350 272 317 379 352 41 366 166 0 209 417 398 137 367 187 207 342 363 305 153 128 160 260 290 332 411 108 104 406 72 448 472 198 418 376 360 419 152 201 234 468 412 131 91 451 255 200 431 304 247 161 204 114 447 320 464 185 373 33 496 390 133 499 400 121 88 302 211 387 397 427 144 490 180 219 409 167 145 476 155 275 265 461 263 296 446 484 22 87 148 43 95 130 475 434 192 482 61 369 252 481 421 184 467 430 168 172 64 486 463 297 27 303 93 116 301 118 471 83 251 36 491 424 250 348 299 142 21 309 437 65 281 113 240 274 283 109 77 425 493 408 394 136 189 193 445 181 202 372 42 356 241 478 314 12 40 389 362 222 313 375 378 82 359 25 279 328 89 413 435 48 68 194 92 489 415 28 11 460 450 5 203 47 163 237 401 495 35 30 351 34 312 487 333 197 232 344 267 248 465 319 165 324 291 323 361 295 459 429 98 56 50 6 52 75 321 158 443 173 103 293 392 466 55 71 220 339 190 179 285 353 288 452 341 405 18 210 2 498 441 206 244 457 66 178 410 469 432 79 365 76 245 159 393 38 497 20"
print(hr.grade(path))
print(sum(hr.values.values())*500)

